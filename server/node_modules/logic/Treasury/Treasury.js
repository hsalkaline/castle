var util = require('util'),
    _ = require('underscore'),
    ResourceBag = require ('logic/Resources/ResourceBag/ResourceBag');

var Treasury = function() {};

util.inherits(Treasury, ResourceBag);

_(Treasury.prototype).extend({

    _enought: function() {
        return true;
    },

    _get: function(schema) {
        return _(schema).pairs().reduce(function(acc, pair) {
            var key = pair[0],
                value = pair[1],
                amount = Math.min(this[key], value);

            acc[key] = amount;
            this[key] -= amount;

            return acc;
        }, this);
    }

});

module.exports = Treasury;
